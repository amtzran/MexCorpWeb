<h4 mat-dialog-title class="title-subsection">{{title}}</h4>
<ngx-spinner></ngx-spinner>
<mat-divider></mat-divider>
<br>
<mat-dialog-content class="mat-typography" [formGroup]="form">

  <mat-card>
    <mat-card-content>

      <div fxLayout="row" fxLayoutGap="40px" fxLayout.xs="column">

        <div class="container" fxFlex="100" fxLayout="column" fxLayout.xs="column">

          <div fxLayout="row"
               fxLayout.xs="column"
               fxLayoutGap="20px">

            <ng-select fxFlex="100"
                       bindLabel="name"
                       placeholder="Proveedores"
                       [multiple]="false"
                       appendTo="body"
                       [searchable]="true"
                       formControlName="supplier_id"
                       [clearable]="true">
              <ng-option value="">TODOS</ng-option>
              <ng-option *ngFor="let supplier of suppliers" [value]="supplier.id">
                {{supplier.name}}
              </ng-option>
            </ng-select>

            <ng-select fxFlex="100"
                       bindLabel="name"
                       placeholder="Grupos"
                       [multiple]="false"
                       appendTo="body"
                       [searchable]="true"
                       formControlName="job_center_id"
                       [clearable]="true">
              <ng-option value="">TODOS</ng-option>
              <ng-option *ngFor="let jobCenter of jobCenters" [value]="jobCenter.id">
                {{jobCenter.name}}
              </ng-option>
            </ng-select>

          </div>

        </div>

      </div>

    </mat-card-content>
    <mat-card-actions>
    </mat-card-actions>
  </mat-card>

  <div class="mat-elevation-z8" *ngIf="entry.idEntry">
    <ngx-spinner></ngx-spinner>
    <table mat-table [dataSource]="dataSource" matSort>

      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header=""> ID</th>
        <td mat-cell *matCellDef="let row"> {{row.id}} </td>
      </ng-container>


      <!-- supplier Column -->
      <ng-container matColumnDef="entrie_id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header=""> Entrada</th>
        <td mat-cell *matCellDef="let row"> {{row.entrie_id}} </td>
      </ng-container>

      <!-- Group Column -->
      <ng-container matColumnDef="product_name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header=""> Producto</th>
        <td mat-cell *matCellDef="let row"> {{row.product_name}} </td>
      </ng-container>

      <!-- Employee Column -->
      <ng-container matColumnDef="quantity">
        <th mat-header-cell *matHeaderCellDef mat-sort-header=""> Cantidad</th>
        <td mat-cell *matCellDef="let row"> {{row.quantity}} </td>
      </ng-container>

      <!-- Amount Column -->
      <ng-container matColumnDef="unit_price">
        <th mat-header-cell *matHeaderCellDef mat-sort-header=""> Precio unitario</th>
        <td mat-cell *matCellDef="let row"> {{row.unit_price}} </td>
      </ng-container>

      <!-- Date Column -->
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef mat-sort-header=""> Fecha</th>
        <td mat-cell *matCellDef="let row">{{row.created_at | date : 'shortDate'}}</td>
      </ng-container>


      <!-- TelÃ©fono Column -->
      <ng-container matColumnDef="options">
        <th mat-header-cell *matHeaderCellDef mat-sort-header=""> Opciones</th>
        <td mat-cell *matCellDef="let row">

        <!--  <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="openDialog(false, row.id, true)">
              <mat-icon color="info">visibility</mat-icon>
              Ver
            </button>
            <button mat-menu-item (click)="openDialog(true, row.id, false)">
              <mat-icon color="primary">edit</mat-icon>
              Editar
            </button>

            <button mat-menu-item (click)="delete(row)">
              <mat-icon color="warn">delete</mat-icon>
              Eliminar
            </button>

          </mat-menu>-->

        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No hay datos que mostrar</td>
      </tr>

    </table>

    <mat-paginator #paginatorConcept [length]="totalItems"
                   (page)="getConceptsPaginator($event)"
                   [pageSize]="pageSize"
                   [showFirstLastButtons]="true">
    </mat-paginator>
  </div>

</mat-dialog-content>

<mat-dialog-actions fxLayoutAlign="end">
  <button (click)="close()" mat-stroked-button color="primary" mat-dialog-close="true">Cancelar</button>
  <button *ngIf="!entry.idEntry" (click)="add()" mat-flat-button color="primary" cdkFocusInitial [disabled]="form.invalid">Guardar {{menuTitle}}</button>
  <button *ngIf="entry.idEntry && entry.edit" (click)="update()" mat-flat-button color="primary" cdkFocusInitial>Editar</button>
</mat-dialog-actions>

